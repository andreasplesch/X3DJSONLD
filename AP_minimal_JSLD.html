<html >
<head>
    <title>X3D JSON Loader</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/create3000/cobweb/master/stable/2/2.4/cobweb.css"/>
    <script type="text/javascript" src="https://cdn.rawgit.com/create3000/cobweb/master/stable/2/2.4/cobweb.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <style type="text/css">
    
    X3DCanvas {
        background: #000;
        width:  300px;
        height: 150px;
    }
    
    </style>
</head>
<body>
	<X3DCanvas id="cobwebjson" cache="false">
		<X3D >
			<Scene>
			</Scene>
		</X3D>
		<p>Your browser may not support all features required by Cobweb!</p>
	</X3DCanvas>

</body>
    <script type="text/javascript" src="X3DJSONLD.js"></script>
    <!--script type="text/javascript" src="loaderJQuery.js"></script-->
    
    <script type="text/javascript">
    
	$.getJSON("Library/Examples/gears.json", importIntoCobweb);

	function importIntoCobweb(json) {
		var xml = [];
		var python = [];
		var jsonDOM = loadX3DJS(json, "Library/Examples/gears.json", xml, python, ""); //path is for finding inlines
		loadCobwebDOM(jsonDOM);
	}
	    
    	function loadCobwebDOM(element) {
		X3D(function(el) {
			var browser = X3D.getBrowser(el[0]);
			var importedScene = browser.importDocument(element);
			browser.replaceWorld(importedScene);
		});
	}

    </script>
</html>
